<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The His & Hers Quest: Hints</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 2rem;
    }
    .section {
      border-radius: 6px;
      background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .section[data-level="3"] {
      padding: 0 1rem;
    }
    .section-title {
      cursor: pointer;
      font-weight: bold;
      padding: 0.5rem 0.75rem;
      user-select: none;
      display: flex;
      align-items: center;
      border-radius: 4px;
      margin: 0 -1rem 0 -1rem;
      border-bottom: 1px solid #d0d0d0;
    }
    .section-arrow {
      display: inline-block;
    }
    /* Distinct background colors for each level */
    .section[data-level="1"] > .section-title {
      background: #1d451e;
      color: #fff;
    }
    .section[data-level="2"] > .section-title {
      background: #95a864;
    }
    .section[data-level="3"] > .section-title {
      background: #787a92;
    }
    /* Remove arrow icon */
    .section-title::before {
      display: none;
    }
    .section-content {
      display: none;
      /* Remove indentation */
      padding-left: 0;
      padding-bottom: 0.5rem;
    }
    .section.expanded > .section-content {
      display: block;
    }
    .carousel {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
      margin: 1rem 0;
    }
    .carousel-item {
      min-width: 200px;
      min-height: 60px;
      background: #b3b8ee;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      padding: 1rem;
      width: 100%;
      box-sizing: border-box;
    }
    .carousel-controls {
      display: flex;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .carousel button {
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 3px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.2s;
    }
    .carousel button:disabled {
      background: #aaa;
      cursor: not-allowed;
    }
    /* Remove border when expanded */
    .section.expanded > .section-title {
      border-bottom: none;
    }
    /* Responsive styles for mobile */
    @media (max-width: 600px) {
      body {
        padding: 0.5rem;
      }
      .section[data-level="3"] {
        padding: 0 0.5rem;
      }
      .section-title {
        font-size: 1rem;
        padding: 0.75rem 0.5rem;
        margin: 0 -0.5rem 0 -0.5rem;
      }
      .carousel-item {
        min-width: 0;
        font-size: 1rem;
        padding: 0.75rem;
      }
      .carousel-controls {
        gap: 0.5rem;
      }
      .carousel button {
        font-size: 0.95rem;
        padding: 0.5rem 0.75rem;
      }
      .section {
        border-radius: 4px;
      }
      .section-arrow {
        font-size: 1.1em;
      }
      img[alt="Logo"] {
        max-width: 120px !important;
      }
      h1 {
        font-size: 1.3rem !important;
      }
    }
  </style>
</head>
<body>
  <div style="display: flex; flex-direction: column; align-items: center; margin-bottom: 1.5rem;">
    <img src="logo.png" alt="Logo" style="max-width: 200px; margin-bottom: 1rem; display: block;" />
    <h1 style="margin: 0; text-align: center;">Hints</h1>
  </div>
  <div id="sections-root"></div>
  <script>
    // Example JSON data
    const data = [
      {
        name: "Quest Line: Our History",
        steps: [
          {
            name: "Step 1: First Meeting",
            hints: [
              "You need to order a Kivu Glow from the bartender, but in a particular way: \"just as we did in Rwanda\"",
              "There are certain letters bolded in the story of our first meeting",
              "The bolded letters spell out \"hold hands\"",
              "You have to order a Kivu Glow from the bartender while holding hands with another guest. He should then give you a slip of paper."
            ]
          },
          {
            name: "Step 2: First Date",
            hints: [
              "The instructions say to visit the DJ table. While there, you should be able to spot a record with the His & Hers Quest logo",
              "Flip the record over \"to the B-Side\" to receive further instructions",
              "Perform your best dance moves while holding the record. The DJ should give you the next set of instructions"
            ]
          },
          {
            name: "Step 3: I Love You",
            hints: [
              "The instructions indicate you should visit the marquee tent. In the center of the tent there should be a box with a heart on it.",
              "You need to \"bring our hearts together\". One of the hearts is on top of the box, can you spot another?",
              "Take the heart from the top of the box and touch it face-on to the heart in the \"I Heart NY\" part of the image. You should hear a beep which means the box is unlocked."
            ]
          },
          {
            name: "Step 4: Engagement",
            hints: [
              "Start by finding the pink box in the patio space. There should by a symbol on top of the box that resembles the symbols in the Cistercian Numeral system",
              "The number can be decoded by matching parts of the symbol on the box to the matching parts on your sheet. There are three digits in the number",
              "The top-left part of the symbol is the ones-place, the top right is the tens-place, and the bottom left is the hundreds-place",
              "The first digit is a 6",
              "The second digit is a 1",
              "The code to the box is 619"
            ]
          }
        ]
      },
      {
        name: "Quest Line: Our Heroes",
        steps: [
          {
            name: "Step 1: Indiana Jones",
            hints: [
              "The story of Indiana Jones suggests that the cryptex and box can be found near the fireplace. The cryptex contains the key to unlock the box.",
              "The diamond image on your sheet contains the password to the cryptex. The hint to reading it is in the story.",
              "It says that Indy found the password when he cocked his head in thought. Try looking at the diamond from an angle.",
              "You need to look at the diamond edge on from a very shallow angle, which should make some words readable",
              "The diamond is made up of the phrase The Way is Guarded by Anubis",
              "Anubis is the password to the cryptex"
            ]
          },
          {
            name: "Step 2: Cpt. Jean-Luc Picard",
            hints: [
              "The story of Captain Picard and the Klingon wine indicates that you need to visit the tasting room. You should find a picture of the Captain, a blank white digital picture frame, and a bottle of Klingon Blood Wine. Your goal is to unlock the bottle of wine.",
              "The digital picture frame holds a secret. Notice the red dot on the frame matches the red dot on the piece of film attached to the story",
              "The film is polarization film. By holding the film with the dot at the top and looking through it at the picture frame you should see an image",
              "The image on the frame shows the Klingon number system. Do you see any Klingon numbers anywhere else?",
              "There are three Klingon Numbers on the computer screen behind Captain Picard. Decoding these will give the combination to the wine bottle",
              "The combination to the bottle is 529. Inside the bottle you will find the instructions for the vampire hunt."
            ]
          },
          {
            name: "Step 3: Buffy Summers",
            hints: [
              "The instructions for the vampire hunt say that you need to find the vampire somewhere among the people at the wedding",
              "The vampire is identified by a spot of blood on their collar. This is represented by a blood drop pin. The blood drop is bright red so it should be easy to spot.",
              "Find the person wearing the pin and ask them if they are the vampire. They should give you an envelope that completes this part of the quest."
            ]
          }
        ]
      },
      {
        name: "Quest Line: Our Hobbies",
        steps: [
          {
            name: "Step 1: Travel",
            hints: [
              "The instructions say that you can find the airport map on the outdoor walkway. The map shows how the various airports are connected.",
              "The airports are connected in a way that resembles a digital clock digit",
              "Each of the three itineraries represent one digit of a code",
              "By tracing each of the itineraries on the airport map it should make the shape of a digit",
              "The first digit is a 2",
              "The second digit is a 7",
              "The complete code is 270. You then need to look on the memory table for the object to unlock",
              "On the memory table is a book labeled \"Paris\". This is a fake book that hides a combination lock"
            ]
          },
          {
            name: "Step 2: Running",
            hints: [
              "There is a briefcase on the shelf opposite the memory table. To unlock it you need two 3-digit codes, one for each side",
              "The six runners on your sheet all have a particular number associated with them. You need to find where each runner ends up when they reach the bottom of the route",
              "Trace the route of each runner by following the lines down and then taking any horizontal line they come to.",
              "The blue runner with the number 4 ends up in the right-most position. This means the final digit of the right lock is a 4",
              "The red runner with the number 8 ends up in the 3rd position from left. This means the final digit of the left lock is an 8",
              "The combination to the left lock is 518",
              "The comination to the right lock is 694"
            ]
          },
          {
            name: "Step 3: Lego",
            hints: [
              "You need to assemble the lego pieces on the baseplate. Try not to attach them before you are sure where they go because they are difficult to remove",
              "Use the grey parts of the pieces to form an image. It helps to note that all the numbers should be oriented right side up",
              "The image you're trying to make is the CM monogram that is the background on the piece of paper",
              "The piece with a 4 and 6 should go in the top-left corner. The square with a 9 goes along the top beside that.",
              "The 5 goes in the bottom-left corner. One of the 7's is in the bottom-right corner"
            ]
          }
        ]
      },
      {
        name: "Ledger of Champions",
        steps: [
          {
            name: "Final Code",
            hints: [
              "You need to have compelted all three quest lines, which should leave you with two pieces of transparent film and a completed lego square",
              "Overlay the two pieces of film on the lego square to form a maze. Use the CM background to align the pieces",
              "Follow the maze to the end, you should cross three numbers. These numbers form the code to the ledger of champions",
              "The code is 973"
            ]
          }
        ]
      }
    ];

    function createCarousel(hints) {
      const carousel = document.createElement('div');
      carousel.className = 'carousel';
      carousel.setAttribute('data-items', JSON.stringify(hints));

      const itemDiv = document.createElement('div');
      itemDiv.className = 'carousel-item';
      carousel.appendChild(itemDiv);

      const controls = document.createElement('div');
      controls.className = 'carousel-controls';
      const prevBtn = document.createElement('button');
      prevBtn.className = 'prev';
      prevBtn.textContent = 'Previous Hint';
      const nextBtn = document.createElement('button');
      nextBtn.className = 'next';
      nextBtn.textContent = 'Next Hint';
      controls.appendChild(prevBtn);
      controls.appendChild(nextBtn);
      carousel.appendChild(controls);

      let current = 0;
      function update() {
        itemDiv.textContent = hints[current];
        prevBtn.disabled = current === 0;
        nextBtn.disabled = current === hints.length - 1;
      }
      prevBtn.addEventListener('click', () => {
        if (current > 0) {
          current--;
          update();
        }
      });
      nextBtn.addEventListener('click', () => {
        if (current < hints.length - 1) {
          current++;
          update();
        }
      });
      update();
      return carousel;
    }

    function createSection(level, name, contentElement) {
      const section = document.createElement('div');
      section.className = 'section';
      section.setAttribute('data-level', level);
      const title = document.createElement('div');
      title.className = 'section-title';
      title.textContent = name;
      // Add arrow span after the text
      const arrow = document.createElement('span');
      arrow.className = 'section-arrow';
      arrow.textContent = '▶';
      arrow.style.marginLeft = '0.5em';
      title.appendChild(arrow);
      section.appendChild(title);
      if (contentElement) {
        const content = document.createElement('div');
        content.className = 'section-content';
        content.appendChild(contentElement);
        section.appendChild(content);
      }
      // Expand/collapse logic
      title.addEventListener('click', function(e) {
        if (e.target.closest('.carousel')) return;
        section.classList.toggle('expanded');
        // Update arrow
        if (section.classList.contains('expanded')) {
          arrow.textContent = '▼';
        } else {
          arrow.textContent = '▶';
        }
      });
      // Set initial arrow state
      arrow.textContent = section.classList.contains('expanded') ? '▼' : '▶';
      return section;
    }

    function buildSections(data) {
      const root = document.getElementById('sections-root');
      data.forEach(sectionData => {
        // Level 1
        const stepsContainer = document.createElement('div');
        sectionData.steps.forEach(step => {
          // Level 2
          const hintsCarousel = createCarousel(step.hints);
          const stepSection = createSection(2, step.name, hintsCarousel);
          stepsContainer.appendChild(stepSection);
        });
        const section = createSection(1, sectionData.name, stepsContainer);
        root.appendChild(section);
      });
    }

    buildSections(data);
  </script>
</body>
</html> 